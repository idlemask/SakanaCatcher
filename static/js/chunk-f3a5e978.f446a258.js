(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3a5e978"],{1163:function(t,e,n){},"42bc":function(t,e,n){"use strict";n("1163")},"5d58":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"k",(function(){return d}));var s=n("b775");function a(t,e){return Object(s["a"])({url:"/com/check/name/beforeUpdate",method:"get",params:{name:t,id:e}})}function o(t){return Object(s["a"])({url:"/com/list",method:"get",params:t})}function i(t){return Object(s["a"])({url:"/com/detail",method:"get",params:{id:t}})}function r(){return Object(s["a"])({url:"/com/detail/auth",method:"get"})}function c(t,e){return Object(s["a"])({url:"/com/member/delete",method:"get",params:{oid:t,uid:e}})}function d(t){return Object(s["a"])({url:"/com/update",method:"post",data:t})}},6602:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"message-list",attrs:{id:"message-box"}},[t.showHistory?t._e():n("el-button",{staticStyle:{"align-self":"center",padding:"5px"},attrs:{id:"btn-more",type:"info",round:""},on:{click:t.getHistory}},[t._v("查看历史")]),t._l(t.history,(function(e,s){return n("div",{key:s,staticClass:"message-item",style:{"align-self":e.senderId!==t.id?"flex-start":"flex-end"},attrs:{id:"dialog"+s}},[e.senderId!==t.id?n("el-avatar",{attrs:{size:70,src:e.avatar}}):t._e(),n("div",{staticClass:"message-item-content"},[n("div",{staticClass:"message-item-user",style:{"align-self":e.senderId!==t.id?"flex-start":"flex-end"}},[t._v(" "+t._s(e.sender)+" ")]),n("div",{class:"dialog-box-"+(e.senderId===t.id?"right":"left")},[n("div",{domProps:{innerHTML:t._s(e.content)}}),"dialog"!==e.type?n("div",{staticClass:"btn-bar"},[n("el-button",{attrs:{type:"primary"}},[t._v("同意")]),n("el-button",{attrs:{type:"danger"}},[t._v("拒绝")])],1):t._e()])]),e.senderId===t.id?n("el-avatar",{attrs:{size:70,src:e.avatar}}):t._e()],1)}))],2),n("el-form",{staticClass:"input-box"},[n("el-form-item",[n("el-input",{staticClass:"textarea",attrs:{autosize:{minRows:8,maxRows:8},type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),n("el-form-item",{staticClass:"btn-bar"},[n("el-button",{attrs:{type:"primary"},on:{click:t.sendMsg}},[t._v("发送")]),n("el-button",[t._v("撤销")])],1)],1)],1)},a=[],o=(n("c740"),n("b0c0"),n("5d58")),i=n("5c96"),r={name:"P2G",data:function(){return{showHistory:!1,scrollListener:null,otherInfo:{avatar:"",name:"",id:3},id:2,form:{content:"",senderId:2,type:"dialog",sender:"Sakana",reciver:-1,avatar:""},name:"肥宅俱乐部",history:[],memberDetail:{id:"@increment",gender:"@Gender_ch",name:"@first",password:"@string",class:"@Major@string(number,3)",org:"@Org",position:"@Position",status:"Status",img:""},editData:{},categoryList:[{value:"0",label:"禁用"},{value:"1",label:"启用"}],memberMap:[{key:"id",title:"学号"},{key:"name",title:"姓名"},{key:"gender",title:"性别"},{key:"password",title:"密码"},{key:"class",title:"班级"},{key:"org",title:"社团"},{key:"position",title:"职位"},{key:"status",title:"状态"}]}},created:function(){for(var t={senderId:2,type:"dialog",sender:"Catcher",content:'<span style="color:red">利用vue添加了插入一个span 元素</span>',avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"},e={senderId:1,type:"dialog",sender:"Sakana",content:"<div>《美少女战士》是一部由东映动画制作的魔法少女变身类动画片，该片由佐藤顺一、几原邦彦等导演，富田佑弘、榎户洋司等编剧 [1] ，该剧集于1992年3月7日在日本首播，由东映动画制作发行 [2] 。</div>",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"},n={senderId:1,type:"request",sender:"Sakana",content:"将Sakana的用户名修改为SakanaCatcher",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"},s=0;s<10;s++)this.history.push(e),this.history.push(t),this.history.push(n);this.fetchInfo(),Object(i["Message"])({message:"广播通知将会发送给所有广播组成员",type:"info",duration:2e3})},methods:{getElementTop:function(t){var e=t.offsetTop,n=t.offsetParent;while(null!==n)e+=n.offsetTop,n=n.offsetParent;return e},scrollTo:function(t,e){var n=document.getElementById(t),s=n.offsetTop,a=n.offsetParent,o=null;while(null!==a)s+=a.offsetTop,a=a.offsetParent;o="BackCompat"===document.compatMode?document.body.scrollTop:document.documentElement.scrollTop,document.getElementById("message-box").scrollTo(0,s-o+e)},getHistory:function(){for(var t=this,e=document.getElementById("message-box"),n={senderId:2,type:"dialog",sender:"Catcher",content:"<p>《美少女战士》是一部由东映动画制作的魔法少女变身类动画片，该片由佐藤顺一、几原邦彦等导演，富田佑弘、榎户洋司等编剧 [1] ，该剧集于1992年3月7日在日本首播，由东映动画制作发行 [2] 。</p>",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"},s={senderId:1,type:"dialog",sender:"Sakana",content:"<html><body><p>《美少女战士》是一部由东映动画制作的魔法少女变身类动画片，该片由佐藤顺一、几原邦彦等导演，富田佑弘、榎户洋司等编剧 [1] ，该剧集于1992年3月7日在日本首播，由东映动画制作发行 [2] 。</p></body></html>",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"},a=0;a<2;a++)this.history.unshift(s),this.history.unshift(n);!1===this.showHistory?(e.addEventListener("scroll",(function(){e.scrollTop<=0&&t.getHistory()})),this.showHistory=!0,this.scrollTo("dialog3",-40)):this.scrollTo("dialog3",0)},sendMsg:function(){var t=Object.assign({},this.form);this.history.push(t);var e=document.getElementById("message-box");setTimeout((function(){e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}),200)},setTagsViewTitle:function(t){var e=this;this.$route.meta.title=t+"-通知";var n=this.$store.getters.visitedViews[this.$store.getters.visitedViews.findIndex((function(t){return t.path===e.$route.path}))];null!=n&&(n.title=t+"-通知")},setPageTitle:function(t){document.title="".concat(t)+"-通知"},fetchInfo:function(){var t=this,e=this.$route.params&&this.$route.params.id;Object(o["fetchOrgInfo"])(e).then((function(e){t.otherInfo=e.data.items,t.setPageTitle(t.otherInfo.name),t.setTagsViewTitle(t.otherInfo.name)}))},toEditMode:function(){this.isEditMode=!0,this.editData=this.memberDetail},destroyDialog:function(){this.editData={},this.isEditMode=!1}}},c=r,d=(n("42bc"),n("2877")),l=Object(d["a"])(c,s,a,!1,null,"3276cb9c",null);e["default"]=l.exports}}]);