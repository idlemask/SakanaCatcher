(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-047880fc"],{"01fb":function(t,e,i){},"02cf":function(t,e,i){},"09f4":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),Math.easeInOutQuad=function(t,e,i,n){return t/=n/2,t<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function a(t,e,i){var a=s(),r=t-a,l=20,c=0;e="undefined"===typeof e?500:e;var p=function t(){c+=l;var s=Math.easeInOutQuad(c,a,r,e);o(s),c<e?n(t):i&&"function"===typeof i&&i()};p()}},5278:function(t,e,i){"use strict";i("02cf")},"5d58":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return r})),i.d(e,"b",(function(){return l})),i.d(e,"k",(function(){return c}));var n=i("b775");function o(t,e){return Object(n["a"])({url:"/com/check/name/beforeUpdate",method:"get",params:{name:t,id:e}})}function s(t){return Object(n["a"])({url:"/com/list",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/com/detail",method:"get",params:{id:t}})}function r(){return Object(n["a"])({url:"/com/detail/auth",method:"get"})}function l(t,e){return Object(n["a"])({url:"/com/member/delete",method:"get",params:{oid:t,uid:e}})}function c(t){return Object(n["a"])({url:"/com/update",method:"post",data:t})}},8256:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tinymce-container",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[i("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),i("div",{staticClass:"editor-custom-btn-container"},[i("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},o=[],s=(i("b680"),i("a9e3"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(" upload ")]),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v(" Click upload ")])],1),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(" Cancel ")]),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(" Confirm ")])],1)],1)}),a=[],r=(i("b64b"),i("d81d"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},handleSuccess:function(t,e){for(var i=e.uid,n=Object.keys(this.listObj),o=0,s=n.length;o<s;o++)if(this.listObj[n[o]].uid===i)return this.listObj[n[o]].url=t.files.file,void(this.listObj[n[o]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=Object.keys(this.listObj),n=0,o=i.length;n<o;n++)if(this.listObj[i[n]].uid===e)return void delete this.listObj[i[n]]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,n=t.uid;return this.listObj[n]={},new Promise((function(o,s){var a=new Image;a.src=i.createObjectURL(t),a.onload=function(){e.listObj[n]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},o(!0)}))}}}),l=r,c=(i("5278"),i("2877")),p=Object(c["a"])(l,s,a,!1,null,"3dae379b",null),u=p.exports,d=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],m=d,f=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],g=f,h=i("b85c"),b=[];function v(){return window.tinymce}var y=function(t,e){var i=document.getElementById(t),n=e||function(){};if(!i){var o=document.createElement("script");o.src=t,o.id=t,document.body.appendChild(o),b.push(n);var s="onload"in o?a:r;s(o)}function a(e){e.onload=function(){this.onerror=this.onload=null;var t,i=Object(h["a"])(b);try{for(i.s();!(t=i.n()).done;){var n=t.value;n(null,e)}}catch(o){i.e(o)}finally{i.f()}b=null},e.onerror=function(){this.onerror=this.onload=null,n(new Error("Failed to load "+t),e)}}function r(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e,i=Object(h["a"])(b);try{for(i.s();!(e=i.n()).done;){var n=e.value;n(null,t)}}catch(o){i.e(o)}finally{i.f()}b=null}}}i&&n&&(v()?n(null,i):b.push(n))},w=y,x="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",T={name:"Tinymce",components:{editorImage:u},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?"".concat(t,"px"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;w(x,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:g,menubar:this.menubar,plugins:m,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",i.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))},convert_urls:!1})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){return window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))}}},_=T,C=(i("bed7"),Object(c["a"])(_,n,o,!1,null,"d1b0fb02",null));e["a"]=C.exports},"978c":function(t,e,i){},a7fe:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"80%",margin:"0 auto",padding:"0 0 60px 0"}},[i("div",{staticClass:"basic-box",staticStyle:{margin:"20px auto"},attrs:{id:"com-detail"}},[i("div",{staticClass:"edit-button"},[i("el-button",{staticStyle:{right:"0"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:t.editBasicInfo}},[t._v("编辑")])],1),i("div",{staticClass:"com-detail"},[i("div",{staticStyle:{display:"flex","flex-direction":"row"}},[i("el-image",{staticClass:"com-icon",attrs:{src:t.company.logo}}),i("div",{staticStyle:{display:"flex","flex-direction":"column",margin:"10px",width:"calc(100% - 120px)"}},[i("div",{staticClass:"com-name"},[t._v(t._s(t.company.name))]),i("div",{staticClass:"text-info",staticStyle:{display:"flex","flex-direction":"row",margin:"5px"}},[i("div",{staticClass:"com-detail text-info"},[t._v(t._s(t.company.label))])]),i("div",{staticClass:"text-info",staticStyle:{margin:"10px"},domProps:{innerHTML:t._s(t.company.intro)}})])],1)])]),i("div",{staticClass:"basic-box",attrs:{id:"hr-list"}},[t._m(0),i("div",{staticClass:"edit-button"},[i("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary"},on:{click:t.addHr}},[t._v("添加")])],1),t._l(t.hrList,(function(e,n){return i("div",{key:n,staticClass:"hr"},[i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center",height:"60px","justify-content":"space-between"}},[i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center",height:"60px"}},[i("el-image",{staticClass:"hr-avatar",attrs:{src:e.avatar}}),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticClass:"hr-name"},[t._v(t._s(null!==e.name&&e.name.length>0?e.name:e.username))]),t._m(1,!0)])],1),i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-chat-dot-round",circle:"",plain:""}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",plain:""},on:{click:function(i){return t.deleteHr(e.username)}}})],1)]),i("div",{staticStyle:{width:"99%",margin:"5px auto"}},[i("el-divider",[i("span",{staticClass:"text-primary"})])],1)])})),i("div",[i("pagination",{attrs:{total:t.listQuery.hr.total,page:t.listQuery.hr.page,limit:t.listQuery.hr.limit},on:{"update:page":function(e){return t.$set(t.listQuery.hr,"page",e)},"update:limit":function(e){return t.$set(t.listQuery.hr,"limit",e)}}})],1)],2),i("div",{staticClass:"basic-box",attrs:{id:"position-list"}},[t._m(2),i("div",{staticClass:"edit-button"},[i("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary"},on:{click:t.addPosition}},[t._v("添加")])],1),i("div",{staticClass:"positions"},t._l(t.positions,(function(e,n){return i("div",{key:n,staticClass:"position-item",on:{click:function(i){return t.toPositionDetail(e.id)}}},[i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between",width:"100%"}},[i("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start","justify-content":"flex-start"}},[i("div",{staticClass:"position-item-name text-danger"},[t._v(" "+t._s(e.name)+" ")]),i("div",{staticClass:"position-item-detail text-info"},[i("span",{staticClass:"position-detail"},[t._v(t._s(e.label))])])]),i("div",{staticClass:"text-warning position-item-wage",staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"flex-start"}},[t._v(" "+t._s(e.wageMin!==e.wageMax?e.wageMin+"-":"")+t._s(e.wageMax)+" 元/月 ")])])])})),0),i("div",[i("pagination",{attrs:{total:t.listQuery.position.total,page:t.listQuery.position.page,limit:t.listQuery.position.limit},on:{"update:page":function(e){return t.$set(t.listQuery.position,"page",e)},"update:limit":function(e){return t.$set(t.listQuery.position,"limit",e)}}})],1)]),i("el-dialog",{staticStyle:{padding:"0"},attrs:{title:"编辑公司信息",visible:t.basicInfoDialogVisible},on:{"update:visible":function(e){t.basicInfoDialogVisible=e}}},[i("el-form",{attrs:{"label-position":"left",model:t.basicInfoTemp,rules:t.basicInfoRules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"公司logo",prop:"logo"}},[i("div",{staticStyle:{width:"100px",height:"100px"},on:{mouseover:function(e){t.comLogoHovering=!0},mouseout:function(e){t.comLogoHovering=!1},click:function(e){t.imageCropper.visible=!0}}},[i("el-image",{staticClass:"com-icon",attrs:{src:t.basicInfoTemp.logo}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.comLogoHovering,expression:"comLogoHovering"}],staticClass:"com-icon-mask"},[i("span",{staticStyle:{color:"white"}},[t._v("更换公司logo")])])],1),i("el-input",{attrs:{type:"hidden"},model:{value:t.basicInfoTemp.logo,callback:function(e){t.$set(t.basicInfoTemp,"logo",e)},expression:"basicInfoTemp.logo"}})],1)],1),i("el-form",{ref:"basicInfoTemp",staticClass:"form",attrs:{model:t.basicInfoTemp,rules:t.basicInfoRules,"label-position":"left","label-width":"100px"}},[i("el-form-item",{attrs:{label:"公司名",prop:"name"}},[i("el-input",{model:{value:t.basicInfoTemp.name,callback:function(e){t.$set(t.basicInfoTemp,"name","string"===typeof e?e.trim():e)},expression:"basicInfoTemp.name"}})],1),i("el-form-item",{attrs:{label:"简介",prop:"intro"}},[i("el-input",{staticStyle:{"max-width":"600px"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},"auto-complete":t.addressAutoComplete},model:{value:t.basicInfoTemp.intro,callback:function(e){t.$set(t.basicInfoTemp,"intro",e)},expression:"basicInfoTemp.intro"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.basicInfoDialogVisible=!1}}},[t._v(" 取消 ")]),i("el-button",{attrs:{type:"primary"},on:{click:t.updateBasicInfo}},[t._v(" 确定 ")])],1)],1),i("el-dialog",{staticStyle:{"max-width":"1000px",margin:"0 auto"},attrs:{title:"添加HR",visible:t.hrDialogVisible},on:{"update:visible":function(e){t.hrDialogVisible=e}}},[i("el-form",{ref:"hrForm",staticClass:"form",attrs:{model:t.hrTemp,rules:t.hrFormRule,"label-position":"left","label-width":"80px"}},[i("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[i("el-input",{attrs:{placeholder:"请输入hr的用户名"},model:{value:t.hrTemp.username,callback:function(e){t.$set(t.hrTemp,"username","string"===typeof e?e.trim():e)},expression:"hrTemp.username"}})],1),i("el-form-item",{attrs:{label:"所在部门:",prop:"group"}},[i("el-input",{attrs:{placeholder:"hr的标签之一（后续开发）",disabled:""},model:{value:t.hrTemp.group,callback:function(e){t.$set(t.hrTemp,"group",e)},expression:"hrTemp.group"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.hrDialogVisible=!1}}},[t._v(" 取消 ")]),i("el-button",{attrs:{type:"primary"},on:{click:t.updateHrList}},[t._v(" 确定 ")])],1)],1),i("el-dialog",{attrs:{title:"添加岗位",visible:t.positionDialogVisible},on:{"update:visible":function(e){t.positionDialogVisible=e}}},[i("el-form",{ref:"positionForm",staticClass:"form",attrs:{model:t.positionTemp,rules:t.positionFormRules,"label-position":"left","label-width":"90px"}},[i("el-form-item",{attrs:{label:"工作名称",prop:"name"}},[i("el-input",{model:{value:t.positionTemp.name,callback:function(e){t.$set(t.positionTemp,"name","string"===typeof e?e.trim():e)},expression:"positionTemp.name"}})],1),i("el-form-item",{attrs:{label:"工作类型",prop:"type"}},[i("el-cascader",{staticClass:"filter-item",attrs:{options:t.positionOption,props:{children:"children",label:"name",value:"name"},placeholder:"职位类型",clearable:""},model:{value:t.positionTemp.type,callback:function(e){t.$set(t.positionTemp,"type",e)},expression:"positionTemp.type"}})],1),i("el-form-item",{attrs:{label:"薪酬",prop:"wage"}},[i("el-input",{staticStyle:{width:"100px"},model:{value:t.positionTemp.wageMin,callback:function(e){t.$set(t.positionTemp,"wageMin",t._n(e))},expression:"positionTemp.wageMin"}}),t._v(" ~ "),i("el-input",{staticStyle:{width:"100px"},model:{value:t.positionTemp.wageMax,callback:function(e){t.$set(t.positionTemp,"wageMax",t._n(e))},expression:"positionTemp.wageMax"}}),i("el-input",{staticStyle:{width:"100px"},attrs:{type:"hidden"},model:{value:t.positionTemp.wage,callback:function(e){t.$set(t.positionTemp,"wage",e)},expression:"positionTemp.wage"}})],1),i("el-form-item",{attrs:{label:"负责HR",prop:"hr"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.positionTemp.hr,callback:function(e){t.$set(t.positionTemp,"hr",e)},expression:"positionTemp.hr"}},t._l(t.hrList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"工作地区",prop:"region"}},[i("el-cascader",{staticClass:"filter-item",attrs:{options:t.provinces,props:{children:"city",label:"name",value:"name"},placeholder:"地区",clearable:""},model:{value:t.positionTemp.region,callback:function(e){t.$set(t.positionTemp,"region",e)},expression:"positionTemp.region"}})],1),i("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[i("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"500px"},attrs:{"fetch-suggestions":t.aMapSearch,placeholder:"请输入内容","trigger-on-focus":!1,disabled:t.positionTemp.region.length<=1},on:{select:t.selectAddress},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[i("div",{staticClass:"name"},[t._v(t._s(n.name))])]}}]),model:{value:t.positionTemp.address,callback:function(e){t.$set(t.positionTemp,"address",e)},expression:"positionTemp.address"}},[t.positionTemp.region.length>1?i("template",{slot:"prepend"},[t._v(" "+t._s(t.positionTemp.region[0]+(t.positionTemp.region[0]!==t.positionTemp.region[1]?t.positionTemp.region[1]:"")))]):t._e()],2)],1),i("el-form-item",{attrs:{label:"岗位描述",prop:"description"}},[i("div",{staticClass:"editor-content",domProps:{innerHTML:t._s(t.positionTemp.description)}}),i("tinymce",{attrs:{height:"200"},on:{change:t.descriptionChange},model:{value:t.positionTemp.description,callback:function(e){t.$set(t.positionTemp,"description",e)},expression:"positionTemp.description"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.positionDialogVisible=!1}}},[t._v(" 取消 ")]),i("el-button",{attrs:{type:"primary"},on:{click:t.updatePosition}},[t._v(" 确定 ")])],1)],1),i("image-cropper",{directives:[{name:"show",rawName:"v-show",value:t.imageCropper.visible,expression:"imageCropper.visible"}],key:t.imageCropper.key,attrs:{width:80,height:80,"no-square":!0,"no-circle":!0,url:"http://localhost:8090/",headers:{authorization:"+ $store.getters.token +"},"lang-type":"zh"},on:{close:function(e){t.imageCropper.visible=!1},"crop-upload-success":t.cropSuccess}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-primary",staticStyle:{"font-weight":"bold","margin-bottom":"20px"}},[t._v("招聘人信息 "),i("i",{staticClass:"el-icon-watch"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-info",staticStyle:{display:"flex","flex-direction":"row","align-items":"center","line-height":"20px"}},[i("div",{staticClass:"hr-detail"},[t._v("-----HR的标签（后续开发）-----")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-primary",staticStyle:{"font-weight":"bold","margin-bottom":"20px"}},[t._v("招聘岗位 "),i("i",{staticClass:"el-icon-watch"})])}],s=(i("a4d3"),i("e01a"),i("ac1f"),i("841c"),i("b0c0"),i("333d")),a=i("000a"),r=i("8256"),l=i("c24f"),c=i("5d58"),p=i("6e6f"),u=i("5c96"),d=i("896b"),m={name:"MyCompany",components:{ImageCropper:d["a"],Pagination:s["a"],Tinymce:r["a"]},data:function(){var t=this,e=function(t,e,i){null===e||e.length<=0?i(new Error("用户名不能为空")):Object(l["c"])(e).then((function(t){t.data?Object(l["b"])(e).then((function(t){t.data?i(new Error("用户已经加入了其他公司，请联系用户或客服")):i()})):i(new Error("用户不存在"))}))},i=function(e,i,n){null===i||i.length<=0?n(new Error("公司名不能为空")):Object(c["a"])(i,t.company.id).then((function(t){t.data?n(new Error("公司名重名，请联系管理员或现公司名用户")):n()}))},n=function(e,i,n){null===t.positionTemp.wageMin||t.positionTemp.wageMin.length<=0||null===t.positionTemp.wageMax||t.positionTemp.wageMax.length<=0?n(new Error("薪酬不能为空")):t.positionTemp.wageMin>t.positionTemp.wageMax&&n(new Error("最低薪酬不能大于最高薪酬")),n()},o=function(e,i,n){(null===t.positionTemp.description||t.positionTemp.description.length<=0)&&n(new Error("岗位描述不能为空")),n()};return{aMap:null,comLogoHovering:!1,imageCropper:{visible:!1,key:0,image:"https://wpimg.wallstcn.com/577965b9-bb9e-4e02-9f0c-095b41417191"},addressAutoComplete:"",region:null,provinces:a["a"],positionOption:[],basicInfoDialogVisible:!1,hrDialogVisible:!1,positionDialogVisible:!1,activeApplicant:-1,hrTemp:{username:"",group:""},hrFormRule:{username:[{required:!0,trigger:"blur",validator:e}]},positionTemp:{region:[],name:"",type:"",hr:"",address:"",wageMin:"",wageMax:"",description:"<p><strong>此处填写岗位的详细描述，上方是预览</strong></p> <p><strong>例：</strong></p> <p><strong>职位描述：</strong></p> <ol> <li>负责相关APP产品的用户体验、UI设计工作；</li> <li>主动性强，能主动探索新方案，推动方案执行和实施；</li> <li>参与设计优化、沉淀设计方法、制定规范；</li> </ol> <p><strong>职位要求:</strong></p> <ul> <li>作品需具有UI设计案例；</li> <li>具备一定的手绘能力；</li> <li>思维缜密，逻辑性强，同时具有良好沟通能力、善于对设计进行表达</li> <li>对视觉设计、色彩有敏锐的观察能力及分析能力；</li> <li>具有抗压能力、责任心；</li> <li>简历请附上作品或作品链接；</li> <li>每周实习4天或以上，实习期至少4个月及以上，长期实习优先。</li> </ul>"},positionFormRules:{name:[{required:!0,trigger:"blur"},{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}],wage:[{validator:n,required:!0,trigger:"change"}],region:[{required:!0,trigger:"change"}],type:[{required:!0,trigger:"blur"}],hr:[{required:!0,trigger:"change"}],address:[{required:!0,trigger:"blur"}],description:[{validator:o,trigger:"change"}]},basicInfoTemp:{name:"",logo:"",description:""},basicInfoRules:{name:[{required:!0,trigger:"blur",validator:i}],intro:[{required:!0,trigger:"blur"}]},company:{id:-1,name:"网易",logo:"",description:'网易 (NASDAQ: NTES)，1997年由丁磊先生在广州创办、2000年在美国NASDAQ股票交易所挂牌上市，是中国领先的互联网技术公司，在开发互联网应用、服务等方面始\n              终保持中国业界领先地位。本着对中国互联网发展强烈的使命感，缔造美好生活的愿景，网易利用最先进的互联网技术，加强人与人之间信息的交流和共享，为海量用户提供\n              优质的产品和服务，始终秉持着"以匠心、致创新"的理念，通过科技创新改变生活。'},hrList:[],positions:[],listQuery:{hr:{cid:-1,total:10,page:1,limit:5},position:{cid:-1,total:10,page:1,limit:5}}}},mounted:function(){var t=this;this.getDetail(),Object(p["i"])().then((function(e){t.positionOption=e.data.items}))},methods:{cropSuccess:function(t){this.imagecropperShow=!1,this.imagecropperKey=this.imagecropperKey+1,this.basicInfoTemp.logo=t},aMapSearch:function(t,e){var i=this.positionTemp.region[0]+(this.positionTemp.region[0]!==this.positionTemp.region[1]?this.positionTemp.region[1]:""),n=i+this.positionTemp.address;AMap.plugin("AMap.Autocomplete",(function(){var t={city:"全国",input:"address"},o=new AMap.Autocomplete(t);o.search(n,(function(t,n){console.log(n);var o=n.tips;for(var s in o)o[s].name.indexOf(i)>=0&&(o[s].name=o[s].name.substring(o[s].name.indexOf(i)+i.length));e(n.tips)}))}))},selectAddress:function(t){var e=this.positionTemp.region[0]+(this.positionTemp.region[0]!==this.positionTemp.region[1]?this.positionTemp.region[1]:"");this.positionTemp.address=t.district.substring(t.district.indexOf(e)+e.length)+t.address+t.name},updatePosition:function(){var t=this;this.$refs.positionForm.validate((function(e){var i=Object.assign({cid:t.company.id},t.positionTemp);i.address=t.positionTemp.region[0]+(t.positionTemp.region[0]!==t.positionTemp.region[1]?t.positionTemp.region[1]:"")+i.address,Object(p["k"])(i).then((function(e){200===e.status&&(t.$message({message:"操作成功",type:"success",duration:400}),t.positionDialogVisible=!1,t.getDetail())}))}))},getDetail:function(){var t=this;Object(c["d"])(t.id).then((function(e){t.company=e.data.items,t.listQuery.hr.cid=t.company.id,t.listQuery.position.cid=t.company.id,Object(l["f"])(t.listQuery.hr).then((function(e){t.hrList=e.data.items,t.listQuery.hr.total=e.data.total,Object(p["f"])(t.listQuery.position).then((function(e){t.positions=e.data.items,t.listQuery.position.total=e.data.total}))}))}))},editBasicInfo:function(){this.basicInfoDialogVisible=!0,this.basicInfoTemp=Object.assign({},this.company)},updateBasicInfo:function(){var t=this;this.$refs.basicInfoTemp.validate((function(e){if(e){var i=Object.assign({},t.basicInfoTemp);Object(c["k"])(i).then((function(e){200===e.status&&(t.$message({message:"操作成功",type:"success",duration:500}),t.basicInfoDialogVisible=!1,t.getDetail())}))}}))},addHr:function(){this.hrDialogVisible=!0},deleteHr:function(t){var e=this,i=this;u["MessageBox"].confirm("确定删除该HR？",{confirmButtonText:"删除",confirmButtonClass:"danger-button",cancelButtonText:"返回",type:"error",beforeClose:function(n){console.log(n),"confirm"===n&&Object(l["d"])({username:t}).then((function(t){200===t.status&&(e.$message({message:"操作成功",type:"success",duration:500}),i.getDetail())})),u["MessageBox"].close()}})},updateHrList:function(){var t=this,e=this;this.$refs.hrForm.validate((function(i){if(i){var n={username:e.hrTemp.username,cid:e.company.id};Object(l["a"])(n).then((function(e){200===e.status&&(t.$message({message:"操作成功",type:"success",duration:400}),t.hrDialogVisible=!1)}))}}))},addPosition:function(){this.positionDialogVisible=!0},toPositionDetail:function(t){this.$router.push("myPositionDetail/"+t)},descriptionChange:function(t){console.log(t)}}},f=m,g=(i("fa52"),i("2877")),h=Object(g["a"])(f,n,o,!1,null,"4cf0e842",null);e["default"]=h.exports},bed7:function(t,e,i){"use strict";i("978c")},fa52:function(t,e,i){"use strict";i("01fb")}}]);